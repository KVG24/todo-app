(()=>{"use strict";class t{constructor(t){this.title=t,this.tasks=[],this.id=Math.random().toString().split(".").join("")}}class e{constructor(t,e,n,d){this.title=t,this.description=e,this.date=n,this.priority=d,this.id=Math.random().toString().split(".").join("")}}let n,d=[{title:"Home",tasks:[{title:"Clean home",description:"Dust is everywhere",date:"",priority:"High",id:"04626473771948296"},{title:"Repair window",description:"Kids broke the window",date:"",priority:"Regular",id:"037213361870953765"}],id:"014149084609191154"}];const i=document.querySelector(".projects"),s=document.querySelector(".tasks");function l(){i.replaceChildren(),d.forEach((t=>{const e=document.createElement("div");e.classList.add("project"),e.setAttribute("id",t.id),e.addEventListener("click",(()=>{n=t,c(),document.querySelectorAll(".project").forEach((t=>t.classList.value="project")),e.classList.value.includes("active")||e.classList.add("active")}));const s=document.createElement("h3");s.classList.add("project-title"),s.textContent=t.title;const o=document.createElement("button");o.classList.add("delete-project"),o.textContent="X",o.addEventListener("click",(()=>{d=d.filter((e=>e.id!==t.id)),l()})),e.appendChild(s),e.appendChild(o),i.appendChild(e)}))}function c(){s.replaceChildren(),n.tasks.forEach((t=>{const e=document.createElement("div");e.classList.add("task"),e.setAttribute("id",t.id);const d=document.createElement("h3");d.setAttribute("id","task-title"),d.textContent=t.title;const i=document.createElement("p");i.setAttribute("id","description"),i.textContent=t.description;const l=document.createElement("p");l.setAttribute("id","due"),l.textContent="Due: ";const o=document.createElement("span");o.setAttribute("id","task-date"),t.date?o.textContent=t.date:o.textContent="No deadline",l.appendChild(o);const a=document.createElement("p");a.setAttribute("id","priority-text"),a.textContent="Priority: ";const r=document.createElement("span");r.setAttribute("id","priority"),r.textContent=t.priority,a.appendChild(r);const u=document.createElement("div");u.classList.add("buttons");const p=document.createElement("button");p.classList.add("complete-btn"),p.textContent="Complete";const m=document.createElement("button");m.classList.add("edit-btn"),m.textContent="Edit";const y=document.createElement("button");y.classList.add("delete-btn"),y.textContent="Delete",u.appendChild(p),u.appendChild(m),u.appendChild(y),p.addEventListener("click",(()=>{e.classList.value.includes("complete")?(e.classList.remove("complete"),d.style.textDecoration="none"):(e.classList.add("complete"),d.style.textDecoration="line-through")})),m.addEventListener("click",(()=>{const e=document.querySelector(".task-edit-modal");e.style.display="flex",document.getElementById("close-edit-modal-btn").addEventListener("click",(()=>{e.style.display="none"})),document.getElementById("edit-task-btn").addEventListener("click",(n=>{n.preventDefault();const d=document.getElementById("task-title-edit"),i=document.getElementById("task-desc-edit"),s=document.getElementById("task-date-edit"),l=document.getElementById("task-priority-edit");t.title=d.value,t.description=i.value,t.date=s.value,t.priority=l.value,e.style.display="none",c()}))})),y.addEventListener("click",(()=>{n.tasks=n.tasks.filter((e=>e.id!==t.id)),c()})),e.appendChild(d),e.appendChild(i),e.appendChild(l),e.appendChild(a),e.appendChild(u),s.appendChild(e)}))}const o=document.querySelector(".add-project-btn"),a=document.querySelector(".add-project-modal"),r=document.getElementById("add-project-form-btn"),u=document.getElementById("close-project-form-btn");o.addEventListener("click",(()=>{a.style.display="flex"})),r&&r.addEventListener("click",(e=>{e.preventDefault(),a.style.display="none";const i=document.getElementById("form-project-title"),s=new t(i.value);d.push(s),l(),n=void 0,i.value=""})),u&&u.addEventListener("click",(()=>{a.style.display="none"}));const p=document.getElementById("add-task"),m=document.getElementById("add-task-btn"),y=document.querySelector(".task-add-modal"),E=document.getElementById("close-modal-btn");p.addEventListener("click",(()=>{y.style.display="flex"})),m.addEventListener("click",(t=>{t.preventDefault(),y.style.display="none";const d=document.getElementById("task-title-input"),i=document.getElementById("task-desc-input"),s=document.getElementById("task-date-input"),l=document.getElementById("task-priority-input"),o=new e(d.value,i.value,s.value,l.value);n.tasks.push(o),c(),d.value="",i.value="",s.value="",l.value=""})),E.addEventListener("click",(()=>{y.style.display="none"})),l()})();