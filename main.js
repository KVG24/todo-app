(()=>{"use strict";const t=document.querySelector(".projects");let e=[],n=e[0];class d{constructor(t){this.title=t,this.tasks=[],this.id=Math.random().toString().split(".").join("")}render(){const e=document.createElement("div");e.classList.add("project"),e.setAttribute("id",this.id);const d=document.createElement("h3");d.classList.add("project-title"),d.textContent=this.title;const s=document.createElement("button");s.classList.add("delete-project"),s.textContent="Delete",s.addEventListener("click",(()=>{this.delete()})),e.appendChild(d),e.appendChild(s),t.appendChild(e),e.addEventListener("click",(()=>{n=this,n.active=!1,this.renderTasks(),document.querySelectorAll(".project").forEach((t=>t.classList.value="project")),e.classList.value.includes("active")||e.classList.add("active")}))}delete(){e.filter((t=>t.id!==this.id)),d.renderProjects()}renderTasks(){document.querySelector(".tasks").innerHTML="",this.tasks.forEach((t=>t.render()))}static renderProjects(){t.innerHTML="",e.forEach((t=>t.render()))}static setCurrentProject(t){n=t}}const s=document.querySelector(".tasks");class i{constructor(t,e,n,d){this.title=t,this.description=e,this.date=n,this.priority=d,this.id=Math.random().toString().split(".").join("")}render(){const t=document.createElement("div");t.classList.add("task"),t.setAttribute("id",this.id);const e=document.createElement("h3");e.setAttribute("id","task-title"),e.textContent=this.title;const n=document.createElement("p");n.setAttribute("id","description"),n.textContent=this.description;const d=document.createElement("p");d.setAttribute("id","due"),d.textContent="Due: ";const i=document.createElement("span");i.setAttribute("id","task-date"),this.date?i.textContent=this.date:i.textContent="No deadline",d.appendChild(i);const c=document.createElement("p");c.setAttribute("id","priority-text"),c.textContent="Priority: ";const o=document.createElement("span");o.setAttribute("id","priority"),o.textContent=this.priority,c.appendChild(o);const l=document.createElement("div");l.classList.add("buttons");const a=document.createElement("button");a.classList.add("complete-btn"),a.textContent="Complete";const r=document.createElement("button");r.classList.add("edit-btn"),r.textContent="Edit";const u=document.createElement("button");u.classList.add("delete-btn"),u.textContent="Delete",l.appendChild(a),l.appendChild(r),l.appendChild(u),a.addEventListener("click",(()=>{t.classList.value.includes("complete")?(t.classList.remove("complete"),e.style.textDecoration="none"):(t.classList.add("complete"),e.style.textDecoration="line-through")})),r.addEventListener("click",(()=>{this.edit()})),u.addEventListener("click",(()=>{this.delete()})),t.appendChild(e),t.appendChild(n),t.appendChild(d),t.appendChild(c),t.appendChild(l),s.appendChild(t),this.title="",this.description="",this.date=""}delete(){n.tasks=n.tasks.filter((t=>t.id!==this.id)),n.renderTasks()}edit(){}}const c=document.querySelector(".form-project-div"),o=document.getElementById("add-project-btn"),l=document.getElementById("add-project-form-btn"),a=document.getElementById("close-project-form-btn");o.addEventListener("click",(()=>{u(),c.style.display="block"})),l.addEventListener("click",(()=>{const t=document.getElementById("form-project-title"),n=new d(t.value);e.push(n),t.value="",d.renderProjects(),d.setCurrentProject(n);let s=document.querySelectorAll(".project");s[s.length-1].classList.add("active"),u(),c.style.display="none"})),a.addEventListener("click",(()=>{c.style.display="none"}));const r=document.getElementById("form-project-title");function u(){r.value=""}const m=document.getElementById("add-task"),p=document.querySelector(".task-add-modal"),h=document.getElementById("add-task-btn"),E=document.getElementById("close-modal-btn");m.addEventListener("click",(()=>{p.style.display="flex"})),h.addEventListener("click",(()=>{p.style.display="none";const t=document.getElementById("task-title-input"),e=document.getElementById("task-desc-input"),d=document.getElementById("task-date-input"),s=document.getElementById("task-priority-input"),c=new i(t.value,e.value,d.value,s.value);n.tasks.push("task"),c.render()})),E.addEventListener("click",(()=>{p.style.display="none"})),d.renderProjects()})();